#
# example example_geoparse config
#

[geoparse]

# nlp languages to use (will include language specific stoplists and location type expansion lists)
language_codes=['en']

# corpus dir with language specific stoplists etc.
corpus_dir=None

# stanford tagger base dir
stanford_tagger_dir=None

# tree tagger base dir
tree_tagger_dir=None

# database timeouts in seconds
# statement queries that timeout (e.g. due to a network lag or offline event) will be automatically retried until the overall timeout value has expired
# note: loading preprocessed locations takes time so allow 10 mins timeouts
#       locations are loaded into memory so matching can use fast in-memory inverted indexes for lookup
#       e.g. 400,000 locations takes about 20 minutes total to cache (10 Gbytes RAM footprint) on a 2GHz CPU core and non-solid state hard disk
timeout_statement=600
timeout_overall=600

# database details
db_user=postgres
db_pass=postgres
db_host=localhost
db_port=5432
db_name=openstreetmap
db_schema_reveal=reveal

# focus areas for geoparse. these must have been preprocessed already using example_preprocess_focus_area.py
focus_area_list=[ 'global_cities10', 'uk_places', 'north_america_places' ]

# semantic distance = number of tokens to right of location phrase for super region association
semantic_distance_loc_parent=6

# loc geom distance from locs (inc geotag if enabled)
# 0.5 deg is about 40km (note: varies based on position on globe)
# 0.01 deg is about 1km (note: varies based on position on globe)
# -1 = disable cloneness confidence test
geom_distance_loc=0.25

# allowed phases for location confidence
# 1 = subsuption removal (always should be checked) [fast < 1 second]
# 2 = parent region [fast < 1 second]
# 3 = closeness [slow for first time 1+ seconds but result cached for repeat checks]
# 4 = disambiguate locations with the same confidence using admin levels. lower level (city, country) is preferred to higher level (suburb, parish) or no level (road, building) [fast < 1 second]
allowed_conf_tests=(1,2,3,4)

# spatial filter for focus area gazetteer ('' if none) to reduce the number of locations available to be matched
# examples below. polygons simplified using ST_SimplifyPreserveTopology( ST_Union( way ), 0.1 ) to avoid very verbose geoms
# UK = MULTIPOLYGON(((-14.015517 57.6026322,-13.6742834 57.7730825,-13.3609679 57.5937691,-13.7179419 57.4213286,-14.015517 57.6026322)),((-9.0234247 57.829,-8.5331216 58.082,-8.1022246 57.873,-8.4704675 57.594,-9.0234247 57.829)),((-8.1777994 54.4649356,-7.6972521 54.6100698,-7.9213313 54.696523,-7.5345601 54.7471581,-7.3913226 55.0223489,-6.5787357 55.4435849,-6.8647299 55.6217767,-6.9677946 56.0197571,-7.451861 56.1639097,-8.012301 56.735,-7.8442708 57.210549,-8.0948678 57.694948,-7.6400315 58.0748074,-7.983712 58.183,-7.9790497 58.386,-7.2478567 58.407,-6.3281346 58.7161537,-3.801226 58.807,-3.7064736 59.205,-3.3263499 59.484,-2.0517401 59.504,-1.6736123 59.7529494,-1.776096 59.9708061,-2.2744024 59.94,-2.5043845 60.194,-1.7061669 60.7771917,-1.0514547 61.041,-0.6417069 61.027,-0.3577917 60.86,-0.3522503 60.3486985,-0.9411211 59.744,-1.2634363 59.654,-1.3098582 59.393,-1.9787836 59.397,-2.7655964 58.285,-3.2541721 58.0236106,-3.0547803 57.885,-1.8822704 57.889,-1.4790481 57.689,-1.4126114 57.42,-2.1218263 56.591,-2.026576 56.4176676,-2.1642484 56.2758307,-1.2856928 55.73,-0.9754801 54.862,0.2236768 54.212,0.1660577 53.972,0.6889586 53.1889735,1.4589347 53.11,1.9955572 52.81,2.0909314 52.467,1.8902408 52.024,1.2852703 51.584,1.6732673 51.528,1.8875364 51.1993474,1.1541993 50.746,0.3459442 50.545,-0.2361009 50.626,-1.1848441 50.385,-1.6990258 50.4743477,-2.4521988 50.313,-2.8714952 50.517,-3.1556734 50.453,-3.6174848 50.013,-4.4374942 50.134,-5.1015274 49.769,-5.9395258 49.909,-6.1843044 49.71,-6.5097183 49.695,-6.7001177 49.9129999,-6.6180506 50.087,-6.0462888 50.114,-5.3781003 50.543,-5.3803492 51.5023916,-5.7378356 51.606,-5.7773936 51.815,-5.2718937 52.189,-4.4143324 52.45,-4.4539835 52.582,-5.1106143 52.675,-4.8118632 53.085,-5.0052832 53.389,-4.6646013 53.621,-3.4402166 53.547,-3.3917274 53.8697263,-4.153469 54.5506519,-5.0777816 54.4645486,-5.2677592 54.174,-5.826004 53.8701676,-6.2817314 54.1113547,-6.6238101 54.0364597,-6.9816221 54.409521,-7.2776266 54.123189,-7.5473753 54.1221425,-8.1777994 54.4649356)),((-4.8966569 59.025,-4.4657763 59.287,-4.0110607 59.097,-4.4520511 58.825,-4.8966569 59.025)),((-6.5600264 59.102,-6.3762581 59.272,-5.8313334 59.335,-5.419679 59.117,-5.6081412 58.943,-6.1530746 58.888,-6.5600264 59.102)))
# France = MULTIPOLYGON(((8.2603915 42.3716865,9.1630095 43.1532156,9.5598257 43.1970093,9.8678344 42.2248723,9.6316667 41.4346667,8.8378973 41.2632185,8.5985925 41.4016146,8.3238645 41.8216126,8.2603915 42.3716865)),((-5.4661315 48.4557446,-5.2757105 48.6774666,-3.1155972 49.1214524,-2.9534835 49.3139227,-2.5591667 49.2208333,-2.5253332 48.9278333,-1.9833333 48.8833332,-1.8333333 49.2508332,-2.0975 49.4605,-2.0351849 49.9195252,-1.1607935 49.8881305,-0.8863925 49.5948096,-0.2426645 49.5107816,0.0058505 49.8705976,1.1789095 50.2256546,1.3555737 50.9491299,2.3889136 51.268318,2.790092 50.7257683,3.150394 50.7900717,3.2884474 50.5258668,3.6074376 50.4971875,3.709936 50.3031647,4.2080506 50.2729797,4.1974552 49.9545997,4.69341 49.995412,4.8249624 50.1692248,4.8519966 49.7930477,5.4651227 49.4987988,6.2406513 49.5149373,6.5421198 49.4323149,6.7385568 49.1636722,7.4457904 49.1842666,8.2325219 48.9664472,7.8393911 48.6409714,7.5780768 48.121948,7.5846534 47.5755162,7.385599 47.431814,6.9829674 47.494551,6.8793259 47.3525796,7.0569839 47.3343682,6.4326552 46.9286841,5.9559113 46.1323565,6.2946859 46.2251526,6.3193574 46.4044633,6.8163224 46.4275651,6.7964688 46.1389454,7.0444444 45.9225688,6.8086319 45.7250688,7.1859088 45.4039001,7.0799457 45.2129562,6.6273209 45.1056681,7.0232376 44.8222894,7.0771286 44.6809196,6.8545067 44.5288607,7.008514 44.2352417,7.6844841 44.1739613,7.4954976 43.8643503,7.6235828 43.573859,7.4306571 43.7490151,7.500333 43.516333,6.4224815 42.7901636,4.0027055 43.3030536,3.3430955 42.9782336,3.448 42.435333,2.9473204 42.4813367,2.6716924 42.3407507,2.0159592 42.3470704,1.7361628 42.6179458,0.7086465 42.8615226,0.6771254 42.6909747,-0.0159803 42.6851192,-1.2700426 43.1183421,-1.4413513 43.0462953,-1.3789242 43.2500788,-1.7901666 43.3532652,-1.4440525 45.4454796,-1.8044125 46.1263046,-2.6265835 46.5835116,-2.6287645 47.0224746,-3.3652625 47.1059376,-3.6845975 47.4471966,-5.2441675 47.9089796,-5.4661315 48.4557446),(1.9567018 42.4586726,1.9838237 42.4468906,2.0143702 42.4518009,1.980074 42.4952796,1.9567018 42.4586726)))
spatial_filter_gazetteer =

# locations of interest to filter out geoparse results that do not have this OSMID as a parent (use [] for none)
# -148838 = USA, -62149 = UK see www.openstreetmap.org to find OSMIDs quickly
osm_locations_of_interest = [-148838, -62149]
