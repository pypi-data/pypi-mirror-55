
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Placeholders template tag &#8212; django-page-cms 2.0.0 documentation</title>
    <link rel="stylesheet" href="_static/better.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Installation" href="installation.html" />
    <link rel="prev" title="Contribute to Gerbi CMS" href="contributions.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
      <link rel="stylesheet" href="_static/main.css" type="text/css" />
  </head><body>
    <header id="pageheader"><h1><a href="index.html ">
        django-page-cms 2.0.0 documentation
    </a></h1></header>
  <div class="related top">
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="contributions.html" title="Previous document">Contribute to Gerbi CMS</a>
        </li>
        <li>
          <a href="installation.html" title="Next document">Installation</a>
          &rarr;
        </li>
    </ul>
  </nav>
  <nav id="breadcrumbs">
    <ul>
      <li><a href="index.html">django-page-cms 2.0.0 documentation</a></li> 
    </ul>
  </nav>
  </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="placeholders-template-tag">
<h1><a class="toc-backref" href="#id1">Placeholders template tag</a><a class="headerlink" href="#placeholders-template-tag" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#placeholders-template-tag" id="id1">Placeholders template tag</a><ul>
<li><a class="reference internal" href="#enable-the-placeholder-tags" id="id2">Enable the placeholder tags</a></li>
<li><a class="reference internal" href="#detailed-explanations-on-placeholder-options" id="id3">Detailed explanations on placeholder options</a><ul>
<li><a class="reference internal" href="#the-on-option" id="id4">the <strong>on</strong> option</a></li>
<li><a class="reference internal" href="#the-with-option" id="id5">the <strong>with</strong> option</a></li>
<li><a class="reference internal" href="#the-as-option" id="id6">The <strong>as</strong> option</a></li>
<li><a class="reference internal" href="#the-section-option" id="id7">The <strong>section</strong> option</a></li>
<li><a class="reference internal" href="#the-parsed-keyword" id="id8">The <strong>parsed</strong> keyword</a></li>
<li><a class="reference internal" href="#the-inherited-keyword" id="id9">The <strong>inherited</strong> keyword</a></li>
<li><a class="reference internal" href="#the-untranslated-keyword" id="id10">The <strong>untranslated</strong> keyword</a></li>
<li><a class="reference internal" href="#the-shared-keyword" id="id11">The <strong>shared</strong> keyword</a></li>
<li><a class="reference internal" href="#the-block-keyword" id="id12">The <strong>block</strong> keyword</a></li>
<li><a class="reference internal" href="#examples-of-other-valid-syntaxes" id="id13">Examples of other valid syntaxes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#image-placeholder" id="id14">Image placeholder</a></li>
<li><a class="reference internal" href="#file-placeholder" id="id15">File placeholder</a></li>
<li><a class="reference internal" href="#markdown-placeholder" id="id16">Markdown placeholder</a></li>
<li><a class="reference internal" href="#contact-placeholder" id="id17">Contact placeholder</a></li>
<li><a class="reference internal" href="#create-your-own-placeholder" id="id18">Create your own placeholder</a></li>
<li><a class="reference internal" href="#changing-the-widget-of-the-common-placeholder" id="id19">Changing the widget of the common placeholder</a></li>
<li><a class="reference internal" href="#list-of-placeholder-widgets-shipped-with-the-cms" id="id20">List of placeholder widgets shipped with the CMS</a><ul>
<li><a class="reference internal" href="#textinput" id="id21">TextInput</a></li>
<li><a class="reference internal" href="#textarea" id="id22">Textarea</a></li>
<li><a class="reference internal" href="#admintextinput" id="id23">AdminTextInput</a></li>
<li><a class="reference internal" href="#admintextarea" id="id24">AdminTextarea</a></li>
<li><a class="reference internal" href="#filebrowseinput" id="id25">FileBrowseInput</a></li>
<li><a class="reference internal" href="#richtextarea" id="id26">RichTextarea</a></li>
<li><a class="reference internal" href="#ckeditorplaceholdernode" id="id27">CKEditorPlaceholderNode</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<p>The placeholder template tag is what make Gerbi CMS special. The workflow
is that you design your template first according to the page design.
Then you put placeholder tag where you want dynamic content.</p>
<p>For each placeholder you will get a corresponding field appearing automaticaly
in the administration interface. You can make as many templates as you want, even
use the template inheritance: this CMS administration interface will still behave as intended.</p>
<p>The syntax for a placeholder tag is the following:</p>
<div class="highlight-html+django notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">placeholder</span> <span class="s2">&quot;&lt;name&gt;&quot;</span> <span class="o">[</span><span class="nv">on</span> <span class="o">&lt;</span><span class="nv">page</span><span class="o">&gt;]</span> <span class="o">[</span><span class="k">with</span> <span class="o">&lt;</span><span class="nv">widget</span><span class="o">&gt;]</span> <span class="o">[</span><span class="nv">parsed</span><span class="o">]</span> <span class="o">[</span><span class="nv">inherited</span><span class="o">]</span> <span class="o">[</span><span class="k">as</span> <span class="o">&lt;</span><span class="nv">varname</span><span class="o">&gt;]</span> <span class="cp">%}</span>
</pre></div>
</div>
<div class="section" id="enable-the-placeholder-tags">
<h2><a class="toc-backref" href="#id2">Enable the placeholder tags</a><a class="headerlink" href="#enable-the-placeholder-tags" title="Permalink to this headline">¶</a></h2>
<p>The required syntax to load placeholder tags is the following:</p>
<div class="highlight-html+django notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">load</span> <span class="nv">pages_tags</span> <span class="cp">%}</span>
</pre></div>
</div>
</div>
<div class="section" id="detailed-explanations-on-placeholder-options">
<h2><a class="toc-backref" href="#id3">Detailed explanations on placeholder options</a><a class="headerlink" href="#detailed-explanations-on-placeholder-options" title="Permalink to this headline">¶</a></h2>
<div class="section" id="the-on-option">
<h3><a class="toc-backref" href="#id4">the <strong>on</strong> option</a><a class="headerlink" href="#the-on-option" title="Permalink to this headline">¶</a></h3>
<p>If the <strong>on</strong> option is omitted the CMS will automatically
take the current page (by using the <cite>current_page</cite> context variable)
to get the content of the placeholder.</p>
<p>Template syntax example</p>
<div class="highlight-html+django notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">placeholder</span> <span class="s2">&quot;main menu&quot;</span> <span class="nv">on</span> <span class="nv">root_page</span> <span class="cp">%}</span>
</pre></div>
</div>
</div>
<div class="section" id="the-with-option">
<h3><a class="toc-backref" href="#id5">the <strong>with</strong> option</a><a class="headerlink" href="#the-with-option" title="Permalink to this headline">¶</a></h3>
<p>The <strong>with</strong> option is used to change a placeholder widget within the administration interface.</p>
<p>By default the CMS will use a simple <cite>TextInput</cite> widget. But with the <strong>with</strong> option
the CMS will use the the widget of your choice. Widgets need to be registered before you can use them in the CMS:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pages.widgets_registry</span> <span class="k">import</span> <span class="n">register_widget</span>
<span class="kn">from</span> <span class="nn">django.forms</span> <span class="k">import</span> <span class="n">TextInput</span>

<span class="k">class</span> <span class="nc">NewWidget</span><span class="p">(</span><span class="n">TextInput</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="n">register_widget</span><span class="p">(</span><span class="n">NewWidget</span><span class="p">)</span>
</pre></div>
</div>
<p>Template syntax example:</p>
<div class="highlight-html+django notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">placeholder</span> <span class="s2">&quot;body&quot;</span> <span class="k">with</span> <span class="nv">NewWidget</span> <span class="cp">%}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><a class="reference internal" href="#changing-widget"><span class="std std-ref">Details about how to create a new Widget for a placeholder</span></a> .</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This CMS is shipped with <a class="reference internal" href="#placeholder-widgets-list"><span class="std std-ref">a list of useful widgets</span></a> .</p>
</div>
</div>
<div class="section" id="the-as-option">
<h3><a class="toc-backref" href="#id6">The <strong>as</strong> option</a><a class="headerlink" href="#the-as-option" title="Permalink to this headline">¶</a></h3>
<p>If you use the option <strong>as</strong> the content of the placeholder content will not be displayed:
a variable of your choice will be defined within the template’s context.</p>
<p>Template syntax example:</p>
<div class="highlight-html+django notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">placeholder</span> <span class="s2">&quot;image&quot;</span> <span class="k">as</span> <span class="nv">image_src</span> <span class="cp">%}</span>
<span class="p">&lt;</span><span class="nt">img</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">img_src</span> <span class="cp">}}</span><span class="s">&quot;</span> <span class="na">alt</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">/&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="the-section-option">
<h3><a class="toc-backref" href="#id7">The <strong>section</strong> option</a><a class="headerlink" href="#the-section-option" title="Permalink to this headline">¶</a></h3>
<p>The <strong>section</strong> option is used to group placeholders into a section in the admin interface.
A section is collapsed by default and hides the fields.</p>
<p>Template syntax example:</p>
<div class="highlight-html+django notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;description&quot;</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;</span><span class="cp">{%</span> <span class="k">placeholder</span> <span class="s2">&quot;meta_description&quot;</span> <span class="nv">section</span> <span class="s2">&quot;SEO&quot;</span> <span class="cp">%}</span><span class="s">&quot;</span> <span class="p">/&gt;</span>
<span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;description&quot;</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;</span><span class="cp">{%</span> <span class="k">placeholder</span> <span class="s2">&quot;meta_keywords&quot;</span> <span class="nv">section</span> <span class="s2">&quot;SEO&quot;</span> <span class="cp">%}</span><span class="s">&quot;</span> <span class="p">/&gt;</span>
</pre></div>
</div>
<p>You will get</p>
<img alt="_images/section.png" src="_images/section.png" />
</div>
<div class="section" id="the-parsed-keyword">
<h3><a class="toc-backref" href="#id8">The <strong>parsed</strong> keyword</a><a class="headerlink" href="#the-parsed-keyword" title="Permalink to this headline">¶</a></h3>
<p>If you add the keyword <strong>parsed</strong> the content of the placeholder
will be evaluated as Django template, within the current context.
Each placeholder with the <strong>parsed</strong> keyword will also have
a note in the admin interface noting its ability to be evaluated as template.</p>
<p>Template syntax example:</p>
<div class="highlight-html+django notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">placeholder</span> <span class="s2">&quot;special content&quot;</span> <span class="nv">parsed</span> <span class="cp">%}</span>
</pre></div>
</div>
</div>
<div class="section" id="the-inherited-keyword">
<h3><a class="toc-backref" href="#id9">The <strong>inherited</strong> keyword</a><a class="headerlink" href="#the-inherited-keyword" title="Permalink to this headline">¶</a></h3>
<p>If you add the keyword <strong>inherited</strong> the placeholder’s content displayed
on the frontend will be retrieved from the closest parent. But only if there is no
content for the current page.</p>
<p>Template syntax example:</p>
<div class="highlight-html+django notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">placeholder</span> <span class="s2">&quot;right column&quot;</span> <span class="nv">inherited</span> <span class="cp">%}</span>
</pre></div>
</div>
</div>
<div class="section" id="the-untranslated-keyword">
<h3><a class="toc-backref" href="#id10">The <strong>untranslated</strong> keyword</a><a class="headerlink" href="#the-untranslated-keyword" title="Permalink to this headline">¶</a></h3>
<p>If you add the keyword <strong>untranslated</strong> the placeholder’s content
will be the same whatever language your use. It’s especialy useful for an image
placeholder that should remain the same in every language.</p>
<p>Template syntax example:</p>
<div class="highlight-html+django notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">imageplaceholder</span> <span class="s2">&quot;logo&quot;</span> <span class="nv">untranslated</span> <span class="cp">%}</span>
</pre></div>
</div>
</div>
<div class="section" id="the-shared-keyword">
<h3><a class="toc-backref" href="#id11">The <strong>shared</strong> keyword</a><a class="headerlink" href="#the-shared-keyword" title="Permalink to this headline">¶</a></h3>
<p>If you add the keyword <strong>shared</strong> the placeholder’s content
will be the same for all the pages. In effect the placeholder is
not linked to any page and editing it change
its content in all pages.</p>
<p>Template syntax example:</p>
<div class="highlight-html+django notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">placeholder</span> <span class="s2">&quot;footer-links&quot;</span> <span class="nv">shared</span> <span class="cp">%}</span>
</pre></div>
</div>
</div>
<div class="section" id="the-block-keyword">
<span id="placeholderasblocks"></span><h3><a class="toc-backref" href="#id12">The <strong>block</strong> keyword</a><a class="headerlink" href="#the-block-keyword" title="Permalink to this headline">¶</a></h3>
<p>Placeholders can also be rendered as template blocks. The content of the placeholder is then available as the <cite>content</cite>
variable:</p>
<div class="highlight-html+django notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">placeholder</span> <span class="s2">&quot;title&quot;</span> <span class="k">with</span> <span class="nv">TextIntput</span> <span class="nb">block</span> <span class="cp">%}</span>
    <span class="cp">{%</span> <span class="k">if</span> <span class="nv">content</span> <span class="cp">%}</span>
        <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Welcome: <span class="cp">{{</span> <span class="nv">content</span> <span class="cp">}}</span><span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
    <span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endplaceholder</span> <span class="cp">%}</span>
</pre></div>
</div>
</div>
<div class="section" id="examples-of-other-valid-syntaxes">
<h3><a class="toc-backref" href="#id13">Examples of other valid syntaxes</a><a class="headerlink" href="#examples-of-other-valid-syntaxes" title="Permalink to this headline">¶</a></h3>
<p>You can off course combine any of those syntaxes to your convenience.
This is an example list of different possible syntaxes for this template tag:</p>
<div class="highlight-html+django notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">placeholder</span> <span class="s2">&quot;title&quot;</span> <span class="k">with</span> <span class="nv">TextIntput</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">placeholder</span> <span class="s2">&quot;logo&quot;</span> <span class="nv">untranslated</span> <span class="nv">on</span> <span class="nv">root_page</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">placeholder</span> <span class="s2">&quot;right column&quot;</span> <span class="nv">inherited</span> <span class="k">as</span> <span class="nv">right_column</span> <span class="nv">parsed</span> <span class="cp">%}</span>

...
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;my_funky_column&quot;</span><span class="p">&gt;</span><span class="cp">{{</span> <span class="nv">right_column</span><span class="o">|</span><span class="nf">safe</span> <span class="cp">}}</span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="image-placeholder">
<h2><a class="toc-backref" href="#id14">Image placeholder</a><a class="headerlink" href="#image-placeholder" title="Permalink to this headline">¶</a></h2>
<p>There is a special placeholder for images:</p>
<div class="highlight-html+django notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">imageplaceholder</span> <span class="s2">&quot;body image&quot;</span> <span class="nb">block</span> <span class="cp">%}</span>
    <span class="cp">{%</span> <span class="k">if</span> <span class="nv">content</span> <span class="cp">%}</span>
        <span class="p">&lt;</span><span class="nt">img</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">MEDIA_URL</span> <span class="cp">}}{{</span> <span class="nv">content</span> <span class="cp">}}</span><span class="s">&quot;</span> <span class="na">alt</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">/&gt;</span>
    <span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endplaceholder</span> <span class="cp">%}</span>
</pre></div>
</div>
<p>A file upload field will appears into the page admin interface.</p>
</div>
<div class="section" id="file-placeholder">
<h2><a class="toc-backref" href="#id15">File placeholder</a><a class="headerlink" href="#file-placeholder" title="Permalink to this headline">¶</a></h2>
<p>There is also a more general placeholder for files:</p>
<div class="highlight-html+django notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">fileplaceholder</span> <span class="nv">uploaded_file</span> <span class="k">as</span> <span class="nv">filesrc</span> <span class="nb">block</span> <span class="cp">%}</span>
    <span class="cp">{%</span> <span class="k">if</span> <span class="nv">content</span> <span class="cp">%}</span>
        <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">MEDIA_URL</span> <span class="cp">}}{{</span> <span class="nv">content</span> <span class="cp">}}</span><span class="s">&quot;</span><span class="p">&gt;</span>Download file<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
    <span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endplaceholder</span> <span class="cp">%}</span>
</pre></div>
</div>
<p>A file upload field will appears into the page admin interface.</p>
</div>
<div class="section" id="markdown-placeholder">
<span id="markdownplaceholder"></span><h2><a class="toc-backref" href="#id16">Markdown placeholder</a><a class="headerlink" href="#markdown-placeholder" title="Permalink to this headline">¶</a></h2>
<p>If you want to write in the MarkDown format there is a MarkDown placeholder:</p>
<div class="highlight-html+django notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">markdownplaceholder</span> <span class="nv">mark</span> <span class="cp">%}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>You will have to install the Markdown library</p>
<div class="last highlight-shell notranslate"><div class="highlight"><pre><span></span>$ pip install Markdown
</pre></div>
</div>
</div>
</div>
<div class="section" id="contact-placeholder">
<h2><a class="toc-backref" href="#id17">Contact placeholder</a><a class="headerlink" href="#contact-placeholder" title="Permalink to this headline">¶</a></h2>
<p>If you want to include a simple contact form in your page, there is a contact placeholder:</p>
<div class="highlight-html+django notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">contactplaceholder</span> <span class="s2">&quot;contact&quot;</span> <span class="cp">%}</span>
</pre></div>
</div>
<p>This placeholder use <cite>settings.ADMINS</cite> for recipients email. The template used to render
the contact form is <cite>pages/contact.html</cite>.</p>
</div>
<div class="section" id="create-your-own-placeholder">
<h2><a class="toc-backref" href="#id18">Create your own placeholder</a><a class="headerlink" href="#create-your-own-placeholder" title="Permalink to this headline">¶</a></h2>
<p>If you want to create your own new type of placeholder,
you can simply subclass the <a class="reference internal" href="page-api.html#pages.placeholders.PlaceholderNode" title="pages.placeholders.PlaceholderNode"><code class="xref py py-class docutils literal notranslate"><span class="pre">PlaceholderNode</span></code></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pages.placeholders</span> <span class="k">import</span> <span class="n">PlaceholderNode</span>
<span class="kn">from</span> <span class="nn">pages.placeholders</span> <span class="k">import</span> <span class="n">parse_placeholder</span>
<span class="n">register</span> <span class="o">=</span> <span class="n">template</span><span class="o">.</span><span class="n">Library</span><span class="p">()</span>

<span class="k">class</span> <span class="nc">ContactFormPlaceholderNode</span><span class="p">(</span><span class="n">PlaceholderNode</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="o">...</span>

    <span class="k">def</span> <span class="nf">get_widget</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">page</span><span class="p">,</span> <span class="n">language</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="n">Textarea</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Redefine this to change the widget of the field.&quot;&quot;&quot;</span>
        <span class="o">...</span>

    <span class="k">def</span> <span class="nf">get_field</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">page</span><span class="p">,</span> <span class="n">language</span><span class="p">,</span> <span class="n">initial</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Redefine this to change the field displayed in the admin.&quot;&quot;&quot;</span>
        <span class="o">...</span>

    <span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">page</span><span class="p">,</span> <span class="n">language</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">change</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Redefine this to change the way to save the placeholder data.&quot;&quot;&quot;</span>
        <span class="o">...</span>

    <span class="k">def</span> <span class="nf">render</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Output the content of the node in the template.&quot;&quot;&quot;</span>
        <span class="o">...</span>

<span class="k">def</span> <span class="nf">do_contactplaceholder</span><span class="p">(</span><span class="n">parser</span><span class="p">,</span> <span class="n">token</span><span class="p">):</span>
    <span class="n">name</span><span class="p">,</span> <span class="n">params</span> <span class="o">=</span> <span class="n">parse_placeholder</span><span class="p">(</span><span class="n">parser</span><span class="p">,</span> <span class="n">token</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">ContactFormPlaceholderNode</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">)</span>
<span class="n">register</span><span class="o">.</span><span class="n">tag</span><span class="p">(</span><span class="s1">&#39;contactplaceholder&#39;</span><span class="p">,</span> <span class="n">do_contactplaceholder</span><span class="p">)</span>
</pre></div>
</div>
<p>And use it in your templates as a normal placeholder:</p>
<div class="highlight-html+django notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">contactplaceholder</span> <span class="nv">contact</span> <span class="cp">%}</span>
</pre></div>
</div>
</div>
<div class="section" id="changing-the-widget-of-the-common-placeholder">
<span id="changing-widget"></span><h2><a class="toc-backref" href="#id19">Changing the widget of the common placeholder</a><a class="headerlink" href="#changing-the-widget-of-the-common-placeholder" title="Permalink to this headline">¶</a></h2>
<p>If you want to just redefine the widget of the default <a class="reference internal" href="page-api.html#pages.placeholders.PlaceholderNode" title="pages.placeholders.PlaceholderNode"><code class="xref py py-class docutils literal notranslate"><span class="pre">PlaceholderNode</span></code></a>
without subclassing it, you can just you create a valid Django Widget that take an extra language paramater:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">django.forms</span> <span class="k">import</span> <span class="n">Textarea</span>
<span class="kn">from</span> <span class="nn">django.utils.safestring</span> <span class="k">import</span> <span class="n">mark_safe</span>
<span class="kn">from</span> <span class="nn">pages.widgets_registry</span> <span class="k">import</span> <span class="n">register_widget</span>

<span class="k">class</span> <span class="nc">CustomTextarea</span><span class="p">(</span><span class="n">Textarea</span><span class="p">):</span>
    <span class="k">class</span> <span class="nc">Media</span><span class="p">:</span>
        <span class="n">js</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;path to the widget extra javascript&#39;</span><span class="p">]</span>
        <span class="n">css</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;all&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;path to the widget extra css&#39;</span><span class="p">]</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">language</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">attrs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;class&#39;</span><span class="p">:</span> <span class="s1">&#39;custom-textarea&#39;</span><span class="p">}</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">CustomTextarea</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">attrs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">render</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="n">rendered</span> <span class="o">=</span> <span class="nb">super</span><span class="p">(</span><span class="n">CustomTextarea</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">attrs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;Take a look at </span><span class="se">\</span>
<span class="s2">                example.widgets.CustomTextarea&lt;br&gt;&quot;&quot;&quot;</span><span class="p">)</span> \
                <span class="o">+</span> <span class="n">rendered</span>

<span class="n">register_widget</span><span class="p">(</span><span class="n">CustomTextarea</span><span class="p">)</span>
</pre></div>
</div>
<p>Create a file named <cite>widgets.py</cite> (or whathever you want) somewhere in one of your project’s application.
and then you can simply use the placeholder syntax:</p>
<div class="highlight-html+django notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">placeholder</span> <span class="nv">custom_widget_example</span> <span class="k">with</span> <span class="nv">CustomTextarea</span> <span class="cp">%}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You have to make sure your <cite>widgets.py</cite> file is executed before using the widget. To be sure of this, you might
import your file into the models.py of your application.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">More examples of custom widgets are available in <a class="reference internal" href="page-api.html#module-pages.widgets" title="pages.widgets"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pages.widgets.py</span></code></a>.</p>
</div>
</div>
<div class="section" id="list-of-placeholder-widgets-shipped-with-the-cms">
<span id="placeholder-widgets-list"></span><h2><a class="toc-backref" href="#id20">List of placeholder widgets shipped with the CMS</a><a class="headerlink" href="#list-of-placeholder-widgets-shipped-with-the-cms" title="Permalink to this headline">¶</a></h2>
<p>Placeholder could be rendered with different widgets</p>
<div class="section" id="textinput">
<h3><a class="toc-backref" href="#id21">TextInput</a><a class="headerlink" href="#textinput" title="Permalink to this headline">¶</a></h3>
<p>A simple line input:</p>
<div class="highlight-html+django notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">placeholder</span> <span class="s2">&quot;&lt;name&gt;&quot;</span> <span class="k">with</span> <span class="nv">TextInput</span> <span class="cp">%}</span>
</pre></div>
</div>
</div>
<div class="section" id="textarea">
<h3><a class="toc-backref" href="#id22">Textarea</a><a class="headerlink" href="#textarea" title="Permalink to this headline">¶</a></h3>
<p>A multi line input:</p>
<div class="highlight-html+django notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">placeholder</span> <span class="s2">&quot;&lt;name&gt;&quot;</span> <span class="k">with</span> <span class="nv">Textarea</span> <span class="cp">%}</span>
</pre></div>
</div>
</div>
<div class="section" id="admintextinput">
<h3><a class="toc-backref" href="#id23">AdminTextInput</a><a class="headerlink" href="#admintextinput" title="Permalink to this headline">¶</a></h3>
<p>A simple line input with Django admin CSS styling (better for larger input fields):</p>
<div class="highlight-html+django notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">placeholder</span> <span class="s2">&quot;&lt;name&gt;&quot;</span> <span class="k">with</span> <span class="nv">AdminTextInputWidget</span> <span class="cp">%}</span>
</pre></div>
</div>
</div>
<div class="section" id="admintextarea">
<h3><a class="toc-backref" href="#id24">AdminTextarea</a><a class="headerlink" href="#admintextarea" title="Permalink to this headline">¶</a></h3>
<p>A multi line input with Django admin CSS styling:</p>
<div class="highlight-html+django notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">placeholder</span> <span class="s2">&quot;&lt;name&gt;&quot;</span> <span class="k">with</span> <span class="nv">AdminTextareaWidget</span> <span class="cp">%}</span>
</pre></div>
</div>
</div>
<div class="section" id="filebrowseinput">
<h3><a class="toc-backref" href="#id25">FileBrowseInput</a><a class="headerlink" href="#filebrowseinput" title="Permalink to this headline">¶</a></h3>
<p>A file browsing widget:</p>
<div class="highlight-html+django notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">placeholder</span> <span class="s2">&quot;&lt;name&gt;&quot;</span> <span class="k">with</span> <span class="nv">FileBrowseInput</span> <span class="cp">%}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The following django application needs to be installed: <a class="reference external" href="http://code.google.com/p/django-filebrowser/">http://code.google.com/p/django-filebrowser/</a></p>
</div>
</div>
<div class="section" id="richtextarea">
<h3><a class="toc-backref" href="#id26">RichTextarea</a><a class="headerlink" href="#richtextarea" title="Permalink to this headline">¶</a></h3>
<p>A simple Rich Text Area Editor based on jQuery:</p>
<div class="highlight-html+django notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">placeholder</span> <span class="s2">&quot;&lt;name&gt;&quot;</span> <span class="k">with</span> <span class="nv">RichTextarea</span> <span class="cp">%}</span>
</pre></div>
</div>
<img alt="_images/rte-light.png" src="_images/rte-light.png" />
</div>
<div class="section" id="ckeditorplaceholdernode">
<h3><a class="toc-backref" href="#id27">CKEditorPlaceholderNode</a><a class="headerlink" href="#ckeditorplaceholdernode" title="Permalink to this headline">¶</a></h3>
<p>A simple <a class="reference external" href="http://ckeditor.com">CKEditor</a> custom placeholder:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="o">%</span> <span class="n">ckeditor_placeholder</span> <span class="s2">&quot;&lt;name&gt;&quot;</span> <span class="k">with</span> <span class="n">ckeditor</span> <span class="o">%</span><span class="p">}</span>
</pre></div>
</div>
<img alt="_images/ckeditor_placeholder.png" src="_images/ckeditor_placeholder.png" />
<p>The variable <code class="docutils literal notranslate"><span class="pre">CKEDITOR_CONFIGS</span></code> in <code class="docutils literal notranslate"><span class="pre">settings.py</span></code> exists to define editor
configurations. To use a custom configured editor in templates, just specify the
configuration name as follow:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="o">%</span> <span class="n">ckeditor_placeholder</span> <span class="s2">&quot;&lt;name&gt;&quot;</span> <span class="k">with</span> <span class="n">ckeditor</span><span class="p">:</span><span class="n">minimal</span> <span class="o">%</span><span class="p">}</span>
</pre></div>
</div>
<p>If no configuration is specified a default configuration will be used. The
default configuration has to be defined in <code class="docutils literal notranslate"><span class="pre">CKEDITOR_CONFIGS</span></code>. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CKEDITOR_CONFIGS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;width&#39;</span><span class="p">:</span> <span class="mi">600</span><span class="p">,</span>
        <span class="s1">&#39;height&#39;</span><span class="p">:</span> <span class="mi">300</span><span class="p">,</span>
        <span class="s1">&#39;toolbar&#39;</span><span class="p">:</span> <span class="s1">&#39;Full&#39;</span><span class="p">,</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In order to use this placeholder, the application <a class="reference external" href="https://github.com/django-ckeditor/django-ckeditor">django-ckeditor</a> needs to be
installed and configured (trivial). <a class="reference external" href="https://github.com/riklaunim/django-ckeditor#django-ckeditor">See the docs</a> for
further details. Also have a look at the example project to see a working
implementation.</p>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/gerbi.png" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Placeholders template tag</a><ul>
<li><a class="reference internal" href="#enable-the-placeholder-tags">Enable the placeholder tags</a></li>
<li><a class="reference internal" href="#detailed-explanations-on-placeholder-options">Detailed explanations on placeholder options</a><ul>
<li><a class="reference internal" href="#the-on-option">the <strong>on</strong> option</a></li>
<li><a class="reference internal" href="#the-with-option">the <strong>with</strong> option</a></li>
<li><a class="reference internal" href="#the-as-option">The <strong>as</strong> option</a></li>
<li><a class="reference internal" href="#the-section-option">The <strong>section</strong> option</a></li>
<li><a class="reference internal" href="#the-parsed-keyword">The <strong>parsed</strong> keyword</a></li>
<li><a class="reference internal" href="#the-inherited-keyword">The <strong>inherited</strong> keyword</a></li>
<li><a class="reference internal" href="#the-untranslated-keyword">The <strong>untranslated</strong> keyword</a></li>
<li><a class="reference internal" href="#the-shared-keyword">The <strong>shared</strong> keyword</a></li>
<li><a class="reference internal" href="#the-block-keyword">The <strong>block</strong> keyword</a></li>
<li><a class="reference internal" href="#examples-of-other-valid-syntaxes">Examples of other valid syntaxes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#image-placeholder">Image placeholder</a></li>
<li><a class="reference internal" href="#file-placeholder">File placeholder</a></li>
<li><a class="reference internal" href="#markdown-placeholder">Markdown placeholder</a></li>
<li><a class="reference internal" href="#contact-placeholder">Contact placeholder</a></li>
<li><a class="reference internal" href="#create-your-own-placeholder">Create your own placeholder</a></li>
<li><a class="reference internal" href="#changing-the-widget-of-the-common-placeholder">Changing the widget of the common placeholder</a></li>
<li><a class="reference internal" href="#list-of-placeholder-widgets-shipped-with-the-cms">List of placeholder widgets shipped with the CMS</a><ul>
<li><a class="reference internal" href="#textinput">TextInput</a></li>
<li><a class="reference internal" href="#textarea">Textarea</a></li>
<li><a class="reference internal" href="#admintextinput">AdminTextInput</a></li>
<li><a class="reference internal" href="#admintextarea">AdminTextarea</a></li>
<li><a class="reference internal" href="#filebrowseinput">FileBrowseInput</a></li>
<li><a class="reference internal" href="#richtextarea">RichTextarea</a></li>
<li><a class="reference internal" href="#ckeditorplaceholdernode">CKEditorPlaceholderNode</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="contributions.html"
                        title="previous chapter">Contribute to Gerbi CMS</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="installation.html"
                        title="next chapter">Installation</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/placeholders.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<form class="search" action="search.html" method="get">
  <input type="text" name="q"
   placeholder="type to search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  <div class="related bottom">
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="contributions.html" title="Previous document">Contribute to Gerbi CMS</a>
        </li>
        <li>
          <a href="installation.html" title="Next document">Installation</a>
          &rarr;
        </li>
    </ul>
  </nav>
  <nav id="breadcrumbs">
    <ul>
      <li><a href="index.html">django-page-cms 2.0.0 documentation</a></li> 
    </ul>
  </nav>
  </div>
  <footer id="pagefooter">&copy; 2009, Batiste Bieler.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a>
      1.8.2
        with the <a href="http://github.com/irskep/sphinx-better-theme">
          better</a> theme.

  </footer>

  
  </body>
</html>