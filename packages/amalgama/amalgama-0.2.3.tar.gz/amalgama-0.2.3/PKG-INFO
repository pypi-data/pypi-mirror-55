Metadata-Version: 2.1
Name: amalgama
Version: 0.2.3
Summary: amalgama scraper
License: MIT
Author: Andriy Orehov
Author-email: andriyorehov@gmail.com
Requires-Python: >=3.5,<4.0
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.5
Classifier: Programming Language :: Python :: 3.6
Classifier: Programming Language :: Python :: 3.7
Classifier: Programming Language :: Python :: 3.8
Requires-Dist: pyquery (>=1.4,<2.0)
Requires-Dist: python-slugify (>=2.0,<3.0)
Requires-Dist: unidecode (>=1.0,<2.0)
Project-URL: Bug Tracker, https://github.com/andriyor/amalgama-pq/issues
Project-URL: Code, https://github.com/andriyor/amalgama-pq
Project-URL: CI, https://travis-ci.org/Live-Lyrics/amalgama-pq
Description-Content-Type: text/markdown

# Amalgama-pq 
[![image](https://img.shields.io/pypi/v/amalgama.svg)](https://pypi.org/project/amalgama/)
[![image](https://img.shields.io/pypi/l/amalgama.svg)](https://pypi.org/project/amalgama/)
[![image](https://img.shields.io/pypi/pyversions/amalgama.svg)](https://pypi.org/project/amalgama/)
[![Build Status](https://travis-ci.org/Live-Lyrics/amalgama-pq.svg?branch=master)](https://travis-ci.org/Live-Lyrics/amalgama-pq)
[![codecov](https://codecov.io/gh/Live-Lyrics/amalgama-pq/branch/master/graph/badge.svg)](https://codecov.io/gh/Live-Lyrics/amalgama-pq)

Amalgama lyrics scraping

### Requirements
* Python 3.5 and up

## Installation
from PyPI
```
$ pip install amalgama
```

from git repository
```
$ pip install git+https://github.com/andriyor/amalgama-pq.git#egg=amalgama-pq
```

from source
```
$ git clone https://github.com/andriyor/amalgama-pq.git
$ cd amalgama-pq
$ python setup.py install
```

## Usage

```python
import requests

import amalgama

artist, song = 'Pink Floyd', 'Time'
url = amalgama.get_url(artist, song)
try:
    response = requests.get(url)
    response.raise_for_status()
    text = amalgama.get_first_translate_text(response.text)
    print(f'{text}{url}')
except requests.exceptions.HTTPError:
    print(f'{artist}-{song} not found in amalgama {url}')
```

Expected output 
```
Time (оригинал Pink Floyd)

Ticking away the moments that make up a dull day
You fritter and waste the hours in an off hand way
Kicking around on a piece of ground in your home town
Waiting for someone or something to show you the way
...

Время (перевод Дмитрий Попов из Новокузнецка)

Тикают секунды, наполняя скучный день,
Ты разбрасываешься по мелочам и понапрасну тратишь время,
Вертишься вокруг клочка земли родного города,
В ожидании, что кто-то или что-то укажет тебе путь.
...
```

## Development setup
Using [Poetry](https://poetry.eustace.io/docs/)   
```
$ poetry install
```
run tests
```
$ poetry run pytest
```
or [Pipenv](https://docs.pipenv.org/)   
```
$ pipenv install --dev -e .
```

## License
[MIT](https://choosealicense.com/licenses/mit/)
