<!DOCTYPE html>
<html>
  <head>
    <link href="/static/css/style.css" rel="stylesheet">
    <script src="http://code.jquery.com/jquery-2.0.3.min.js"></script>
    <script type="text/javascript">
      $(document).ready(function() {

        $("#next-play").click(function(e) {
          $.ajax({
            type: "GET",
            url: "/generator",
            data: {
              "gamefile": $("input[name='game-file']").val()
            }
          })
           .done(function(string) {
            $("#the-context").html(string);
          });
          e.preventDefault();
        });

        $("#jump-to-play").click(function(e) {
          $.ajax({
            type: "POST",
            url: "/generator",
            data: {
              "gamefile": $("input[name='game-file']").val(),
              "quarter": $("input[name='quarter']").val(),
              "seconds": $("input[name='seconds']").val()
            }
          })
          .done(function() {
            $("#the-context").html(string);
          });
          e.preventDefault();
        });

        $("#reset").click(function(e) {
          $.ajax({
            type: "DELETE",
            url: "/generator"
          })
          .done(function() {
            $("#the-context").text('{context here new}');
            $("input[name='quarter']").val(1);
            $("input[name='seconds']").val(0);
            $("input[name='game-file']").val('');
          });
          e.preventDefault();
        });

      });
    </script>
  </head>
  <body>
    <h1>Contendo.ai Football game demo</h1>
    <h3>Select a file:</h3>
    <input type="file" name="game-file"></input><br>
    Choose quarter (1-4, 5 for overtime)          : <input type="number" name="quarter" min="1" max="5" value=1></input><br>
    Enter elapsed seconds in quarter (0-900): <input type="number" name="seconds" min="0" max="900" value=0></input><br>
    <br>
    <button id="next-play">Next play</button>
    <button id="jump-to-play">Jump to play</button>
    <button id="reset">Reset</button>
    <br>
    <h3>Current context:</h3>
    <div id="the-context">
      {context here 1}
    </div>
  </body>
</html>
